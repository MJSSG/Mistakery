# æ˜“é”™é¡¹ç›® - æ·»åŠ é”™é¢˜åŠŸèƒ½æ€»ç»“

## ä¸€ã€åŠŸèƒ½æ¦‚è¿°

æ·»åŠ é”™é¢˜åŠŸèƒ½å…è®¸ç”¨æˆ·ç›´æŽ¥å°†é”™é¢˜å½•å…¥åˆ°æ˜“é”™ç½‘æ•°æ®åº“ä¸­ï¼Œé€šè¿‡ç®€å•çš„æ–‡æœ¬ç²˜è´´æ–¹å¼å¿«é€Ÿæ·»åŠ é”™é¢˜ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è§£æžå¹¶ç»“æž„åŒ–å­˜å‚¨ã€‚

## äºŒã€åŠŸèƒ½ç‰¹æ€§

### 1. å½•å…¥æ–¹å¼

- **ç®€åŒ–å½•å…¥æµç¨‹**

  - ä»…éœ€é€‰æ‹©ç§‘ç›®å’Œå­åˆ†ç±»
  - å°†å®Œæ•´é¢˜ç›®æ–‡æœ¬ç²˜è´´åˆ°æ–‡æœ¬æ¡†
  - ä¸€é”®æäº¤ï¼Œç³»ç»Ÿè‡ªåŠ¨è§£æž
- **æ”¯æŒå¤šç§é¢˜ç›®ç±»åž‹**

  - å•é€‰é¢˜
  - å¤šé€‰é¢˜
  - åˆ¤æ–­é¢˜
  - å¡«ç©ºé¢˜
  - ç»¼åˆé¢˜
  - ç®€ç­”é¢˜
  - ä¸å®šé¡¹é€‰æ‹©é¢˜

### 2. ç§‘ç›®åˆ†ç±»ç³»ç»Ÿ

#### ä¸»ç§‘ç›®ï¼ˆ5å¤§ç±»ï¼‰

- ðŸ›ï¸ æ”¿æ²»ç†è®º
- ðŸ’¡ å¸¸è¯†åˆ¤æ–­
- ðŸ“ è¨€è¯­ç†è§£
- ðŸ§© åˆ¤æ–­æŽ¨ç†
- ðŸ”¢ æ•°é‡å…³ç³»

#### å­åˆ†ç±»è¯¦ç»†åˆ—è¡¨

**æ”¿æ²»ç†è®ºå­åˆ†ç±»ï¼ˆ6ä¸ªï¼‰**

- é©¬æ€
- æ¯›æ€
- ä¹ æ€
- ä¸­ç‰¹
- å…šå²
- æ—¶æ”¿

**å¸¸è¯†åˆ¤æ–­å­åˆ†ç±»ï¼ˆ6ä¸ªï¼‰**

- ç»æµŽ
- ç§‘æŠ€
- åŽ†å²
- äººæ–‡
- åœ°ç†
- æ³•å¾‹

**è¨€è¯­ç†è§£å­åˆ†ç±»ï¼ˆ3ä¸ªï¼‰**

- ç‰‡æ®µé˜…è¯»
- é€»è¾‘å¡«ç©º
- è¯­å¥è¡¨è¾¾

**åˆ¤æ–­æŽ¨ç†å­åˆ†ç±»ï¼ˆ4ä¸ªï¼‰**

- å›¾å½¢æŽ¨ç†
- ç±»æ¯”æŽ¨ç†
- å®šä¹‰åˆ¤æ–­
- é€»è¾‘åˆ¤æ–­

**æ•°é‡å…³ç³»å­åˆ†ç±»ï¼ˆ7ä¸ªï¼‰**

- ç®€å•è®¡ç®—
- è¡Œç¨‹é—®é¢˜
- å·¥ç¨‹é—®é¢˜
- ç»æµŽåˆ©æ¶¦é—®é¢˜
- æŽ’åˆ—ç»„åˆé—®é¢˜
- æ¦‚çŽ‡é—®é¢˜
- å‡ ä½•é—®é¢˜

### 3. æ”¯æŒçš„é¢˜ç›®æ–‡æœ¬æ ¼å¼

```
## 2026/2/9 00:58:01          ï¼ˆå¯é€‰ï¼šæ—¶é—´æˆ³ï¼‰

é¢˜ç›®å†…å®¹                      ï¼ˆå¿…éœ€ï¼šé¢˜ç›®æè¿°ï¼‰
A
é€‰é¡¹Aå†…å®¹                      ï¼ˆå¿…éœ€ï¼šé€‰é¡¹Aï¼‰
B
é€‰é¡¹Bå†…å®¹                      ï¼ˆå¿…éœ€ï¼šé€‰é¡¹Bï¼‰
C
é€‰é¡¹Cå†…å®¹                      ï¼ˆå¿…éœ€ï¼šé€‰é¡¹Cï¼‰
D
é€‰é¡¹Då†…å®¹                      ï¼ˆå¿…éœ€ï¼šé€‰é¡¹Dï¼‰

æˆ‘çš„ç­”æ¡ˆï¼šA                    ï¼ˆå¿…éœ€ï¼šç”¨æˆ·çš„ç­”æ¡ˆï¼‰
æ­£ç¡®ç­”æ¡ˆï¼šA,B,C               ï¼ˆå¿…éœ€ï¼šæ­£ç¡®ç­”æ¡ˆï¼‰
ç­”é¢˜ç”¨æ—¶ï¼š1åˆ†é’Ÿ23ç§’             ï¼ˆå¯é€‰ï¼šç­”é¢˜ç”¨æ—¶ï¼‰
å…¨ç«™æ­£ç¡®çŽ‡ï¼š45%                ï¼ˆå¯é€‰ï¼šå…¨ç«™æ­£ç¡®çŽ‡ï¼‰
è§£æžï¼š...                      ï¼ˆå¯é€‰ï¼šé¢˜ç›®è§£æžï¼‰
```

### 4. è‡ªåŠ¨è§£æžåŠŸèƒ½

ç³»ç»Ÿèƒ½å¤Ÿè‡ªåŠ¨ä»Žæ–‡æœ¬ä¸­æå–ä»¥ä¸‹å­—æ®µï¼š

**å¿…å¡«å­—æ®µ**

- âœ… é¢˜ç›®å†…å®¹
- âœ… é€‰é¡¹åˆ—è¡¨ï¼ˆA/B/C/Dç­‰ï¼‰
- âœ… ç”¨æˆ·ç­”æ¡ˆ
- âœ… æ­£ç¡®ç­”æ¡ˆ

**å¯é€‰å­—æ®µ**

- â­• æ—¶é—´æˆ³
- â­• ç­”é¢˜ç”¨æ—¶
- â­• å…¨ç«™æ­£ç¡®çŽ‡
- â­• é¢˜ç›®è§£æž

**è‡ªåŠ¨æ´¾ç”Ÿå­—æ®µ**

- ðŸ”· é¢˜ç›®ç±»åž‹ï¼ˆæ ¹æ®ç­”æ¡ˆæ•°é‡åˆ¤æ–­ï¼šå•é€‰/å¤šé€‰ï¼‰
- ðŸ”· éš¾åº¦ç­‰çº§ï¼ˆæ ¹æ®æ­£ç¡®çŽ‡åˆ¤æ–­ï¼šæ˜“/ä¸­/éš¾ï¼‰
- ðŸ”· å­¦ç§‘åˆ†ç±»ï¼ˆç§‘ç›®æ˜ å°„åˆ°æ•°æ®åº“å­—æ®µï¼‰
- ðŸ”· çŸ¥è¯†ç‚¹æ ‡ç­¾ï¼ˆå­åˆ†ç±»ï¼‰

### 5. æ•°æ®å­˜å‚¨

**å­˜å‚¨åˆ°ä¸¤å¼ è¡¨ï¼š**

**questions è¡¨ï¼ˆé¢˜ç›®åŸºç¡€ä¿¡æ¯ï¼‰**

- é¢˜ç›®ç±»åž‹
- éš¾åº¦ç­‰çº§
- å­¦ç§‘åˆ†ç±»
- çŸ¥è¯†ç‚¹
- é¢˜ç›®å†…å®¹
- é€‰é¡¹åˆ—è¡¨
- æ­£ç¡®ç­”æ¡ˆ
- é¢˜ç›®è§£æž
- æ ‡ç­¾
- åˆ›å»º/æ›´æ–°æ—¶é—´

**mistakes è¡¨ï¼ˆé”™é¢˜è®°å½•ï¼‰**

- é¢˜ç›®IDï¼ˆå…³è”questionsè¡¨ï¼‰
- ç”¨æˆ·ID
- ç”¨æˆ·ç­”æ¡ˆ
- é”™è¯¯æ—¥æœŸ
- å¤ä¹ æ¬¡æ•°
- ä¸‹æ¬¡å¤ä¹ æ—¶é—´
- æŽŒæ¡çŠ¶æ€ï¼ˆæ–°é”™é¢˜/å­¦ä¹ ä¸­/å·²æŽŒæ¡ï¼‰
- åˆ›å»º/æ›´æ–°æ—¶é—´

### 6. é‡å¤é¢˜ç›®å¤„ç†

é‡‡ç”¨**è­¦å‘Šæ¨¡å¼**å¤„ç†é‡å¤é¢˜ç›®ï¼š

- æ£€æµ‹åˆ°é‡å¤é¢˜ç›®æ—¶ï¼Œè®°å½•è­¦å‘Šæ—¥å¿—
- å…è®¸åˆ›å»ºæ–°çš„é”™é¢˜è®°å½•
- å¤ç”¨å·²æœ‰é¢˜ç›®IDï¼Œé¿å…é¢˜ç›®è¡¨é‡å¤
- ä¾¿äºŽç”¨æˆ·å¤šæ¬¡å½•å…¥åŒä¸€é¢˜ç›®çš„ä¸åŒé”™é¢˜è®°å½•

### 7. ç”¨æˆ·ç•Œé¢åŠŸèƒ½

**ç§‘ç›®é€‰æ‹©å™¨**

- å›¾æ ‡åŒ–å±•ç¤º
- å•é€‰äº¤äº’
- é€‰ä¸­çŠ¶æ€é«˜äº®

**å­åˆ†ç±»é€‰æ‹©å™¨**

- æ ¹æ®é€‰æ‹©çš„ç§‘ç›®åŠ¨æ€åŠ è½½
- æ”¯æŒå¤šé€‰
- æ¸…æ™°çš„é€‰ä¸­æ ‡è¯†

**é¢˜ç›®ç¼–è¾‘å™¨**

- å¤§æ–‡æœ¬è¾“å…¥æ¡†
- æ”¯æŒå¤šè¡Œæ–‡æœ¬
- æ ¼å¼æç¤ºè¯´æ˜Ž

**æ“ä½œæŒ‰é’®**

- [é¢„è§ˆè§£æž] - é¢„è§ˆè§£æžç»“æžœ
- [æ¸…ç©º] - æ¸…ç©ºè¡¨å•
- [æäº¤] - æäº¤é”™é¢˜

### 8. APIæŽ¥å£

**æŽ¥å£åœ°å€ï¼š** `POST /api/mistake/parse-and-save`

**è¯·æ±‚å‚æ•°ï¼š**

```json
{
  "category": "æ”¿æ²»ç†è®º",
  "subCategory": "é©¬æ€",
  "content": "å®Œæ•´çš„é¢˜ç›®æ–‡æœ¬"
}
```

**å“åº”ç»“æžœï¼š**

```json
{
  "code": 200,
  "message": "é”™é¢˜å·²ä¿å­˜",
  "data": {
    "questionId": 123,
    "mistakeId": 456,
    "parsed": {
      "type": "single",
      "content": "é¢˜ç›®å†…å®¹",
      "options": ["A", "B", "C", "D"],
      "answer": ["A"],
      "userAnswer": ["A", "B"],
      "explanation": "è§£æžå†…å®¹",
      // ... æ›´å¤šå­—æ®µ
    }
  }
}
```

## ä¸‰ã€æŠ€æœ¯å®žçŽ°

### 1. å‰ç«¯æ–‡ä»¶ç»“æž„

```
src/
â”œâ”€â”€ pages/MistakeEntry/
â”‚   â”œâ”€â”€ MistakeEntry.tsx           # ä¸»é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ index.tsx                  # å¯¼å‡ºæ–‡ä»¶
â”‚   â””â”€â”€ MistakeEntry.module.css    # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ components/MistakeEntry/
â”‚   â”œâ”€â”€ CategorySelector.tsx       # ç§‘ç›®é€‰æ‹©å™¨
â”‚   â”œâ”€â”€ QuestionEditor.tsx         # é¢˜ç›®ç¼–è¾‘å™¨
â”‚   â””â”€â”€ index.ts
â””â”€â”€ services/
    â””â”€â”€ mistakeEntry.ts            # APIæœåŠ¡
```

### 2. åŽç«¯æ–‡ä»¶ç»“æž„

```
server/
â””â”€â”€ src/
    â”œâ”€â”€ scripts/
    â”‚   â””â”€â”€ parse-mistake.js       # è§£æžè„šæœ¬
    â””â”€â”€ routes/
        â””â”€â”€ mistake-entry.js       # APIè·¯ç”±
```

### 3. æ ¸å¿ƒè§£æžé€»è¾‘

è§£æžè„šæœ¬ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æå–å­—æ®µï¼š

- æ—¶é—´æˆ³ï¼š`/^##\s+\d{4}\/\d{1,2}\/\d{1,2}\s+\d{1,2}:\d{2}:\d{2}\s*/gm`
- é¢˜ç›®å†…å®¹ï¼š`/^([\s\S]*?)(?=\nA\s*$)/ms`
- é€‰é¡¹ï¼š`/\n([A-D])\s*([\s\S]*?)(?=\n[A-D]\s*$|\næˆ‘çš„ç­”æ¡ˆ|$)/gm`
- ç”¨æˆ·ç­”æ¡ˆï¼š`/æˆ‘çš„ç­”æ¡ˆ[ï¼š:]\s*([\s\S]*?)(?=\n|$)/`
- æ­£ç¡®ç­”æ¡ˆï¼š`/æ­£ç¡®ç­”æ¡ˆ[ï¼š:]\s*([\s\S]*?)(?=\n|$)/`
- ç­”é¢˜ç”¨æ—¶ï¼š`/ç­”é¢˜ç”¨æ—¶[ï¼š:]\s*([\s\S]*?)(?=\n|$)/`
- å…¨ç«™æ­£ç¡®çŽ‡ï¼š`/å…¨ç«™æ­£ç¡®çŽ‡[ï¼š:]\s*([\s\S]*?)(?=\n|$)/`
- è§£æžï¼š`/è§£æž[ï¼š:]\s*([\s\S]*)$/s`

### 4. æ™ºèƒ½åˆ¤æ–­é€»è¾‘

**é¢˜ç›®ç±»åž‹åˆ¤æ–­ï¼š**

- å•é€‰é¢˜ï¼šæ­£ç¡®ç­”æ¡ˆæ•°é‡ = 1 ä¸” ç”¨æˆ·ç­”æ¡ˆæ•°é‡ = 1
- å¤šé€‰é¢˜ï¼šæ­£ç¡®ç­”æ¡ˆæ•°é‡ > 1 æˆ– ç”¨æˆ·ç­”æ¡ˆæ•°é‡ > 1

**éš¾åº¦ç­‰çº§åˆ¤æ–­ï¼š**

- æ˜“ï¼šå…¨ç«™æ­£ç¡®çŽ‡ â‰¥ 70%
- ä¸­ï¼šå…¨ç«™æ­£ç¡®çŽ‡ 50% - 69%
- éš¾ï¼šå…¨ç«™æ­£ç¡®çŽ‡ < 50%
- é»˜è®¤ï¼šä¸­ï¼ˆæ— æ­£ç¡®çŽ‡æ•°æ®æ—¶ï¼‰

## å››ã€é”™è¯¯å¤„ç†

### 1. è§£æžé”™è¯¯

- ç¼ºå°‘å¿…éœ€å­—æ®µæ—¶è¿”å›žé”™è¯¯æç¤º
- æ ¼å¼ä¸è§„èŒƒæ—¶æå–å¯ç”¨å­—æ®µå¹¶æ ‡è®°è­¦å‘Š
- æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å¸®åŠ©ç”¨æˆ·ä¿®æ­£

### 2. æ•°æ®åº“é”™è¯¯

- å¤„ç†è¿žæŽ¥å¤±è´¥
- å¤„ç†æ’å…¥å¤±è´¥
- è¿”å›ž 500 é”™è¯¯å’Œè¯¦ç»†æ—¥å¿—

### 3. å‰ç«¯é”™è¯¯

- ç½‘ç»œè¯·æ±‚å¤±è´¥æç¤º
- æœåŠ¡å™¨é”™è¯¯å‹å¥½æç¤º
- è¡¨å•éªŒè¯æç¤º

## äº”ã€å¼€å‘è¿›åº¦

æ ¹æ®å¼€å‘è§„åˆ’æ–‡æ¡£ï¼ŒåŠŸèƒ½å·²å®Œæˆä»¥ä¸‹é˜¶æ®µï¼š

- âœ… é˜¶æ®µä¸€ï¼šè§£æžè„šæœ¬å¼€å‘ï¼ˆ2å°æ—¶ï¼‰
- âœ… é˜¶æ®µäºŒï¼šåŽç«¯ API å¼€å‘ï¼ˆ3å°æ—¶ï¼‰
- âœ… é˜¶æ®µä¸‰ï¼šå‰ç«¯é¡µé¢å¼€å‘ï¼ˆ4å°æ—¶ï¼‰
- âœ… é˜¶æ®µå››ï¼šè·¯ç”±é›†æˆï¼ˆ1å°æ—¶ï¼‰
- âœ… é˜¶æ®µäº”ï¼šæµ‹è¯•ä¸Žä¼˜åŒ–ï¼ˆ2å°æ—¶ï¼‰

**æ€»å¼€å‘æ—¶é—´ï¼š12å°æ—¶**

## å…­ã€æµ‹è¯•è¦†ç›–

### 1. è§£æžè„šæœ¬æµ‹è¯•

- âœ… å®Œæ•´å•é€‰é¢˜è§£æž
- âœ… å®Œæ•´å¤šé€‰é¢˜è§£æž
- âœ… ç¼ºå°‘é€‰é¡¹å¤„ç†
- âœ… ç¼ºå°‘ç­”æ¡ˆå¤„ç†
- âœ… æ ¼å¼ä¸è§„èŒƒå¤„ç†

### 2. APIæŽ¥å£æµ‹è¯•

- âœ… æ­£å¸¸æäº¤æµç¨‹
- âœ… é‡å¤é¢˜ç›®å¤„ç†
- âœ… è§£æžå¤±è´¥å¤„ç†
- âœ… æ•°æ®åº“é”™è¯¯å¤„ç†

### 3. å‰ç«¯é¡µé¢æµ‹è¯•

- âœ… ç§‘ç›®é€‰æ‹©åŠŸèƒ½
- âœ… é¢„è§ˆè§£æžåŠŸèƒ½
- âœ… æäº¤æˆåŠŸå¤„ç†
- âœ… æäº¤å¤±è´¥å¤„ç†

## ä¸ƒã€åŽç»­ä¼˜åŒ–æ–¹å‘

1. **æ‰¹é‡å½•å…¥** - æ”¯æŒä¸€æ¬¡å½•å…¥å¤šé“é”™é¢˜
2. **å›¾ç‰‡è¯†åˆ«** - é›†æˆ OCRï¼Œæ”¯æŒå›¾ç‰‡å½•å…¥
3. **æ™ºèƒ½æç¤º** - æ ¹æ®åŽ†å²æ•°æ®æç¤ºå¯èƒ½çš„çŸ¥è¯†ç‚¹
4. **å¯¼å…¥å¯¼å‡º** - æ”¯æŒ Excel/Markdown æ ¼å¼çš„æ‰¹é‡å¯¼å…¥å¯¼å‡º
5. **ç»Ÿè®¡ç¼“å­˜æ›´æ–°** - å½•å…¥åŽè‡ªåŠ¨æ›´æ–°çŸ¥è¯†ç‚¹ç»Ÿè®¡ç¼“å­˜

## å…«ã€ä½¿ç”¨ç¤ºä¾‹

**ç”¨æˆ·æ“ä½œæµç¨‹ï¼š**

1. é€‰æ‹©ç§‘ç›®ï¼šæ”¿æ²»ç†è®º
2. é€‰æ‹©å­åˆ†ç±»ï¼šé©¬æ€
3. ç²˜è´´é¢˜ç›®æ–‡æœ¬
4. ç‚¹å‡»"é¢„è§ˆè§£æž"æŸ¥çœ‹è§£æžç»“æžœ
5. ç‚¹å‡»"æäº¤"ä¿å­˜é”™é¢˜
6. ç³»ç»Ÿè¿”å›žæˆåŠŸæç¤ºï¼Œæ˜¾ç¤º questionId å’Œ mistakeId

**é¢„æœŸç»“æžœï¼š**

- é¢˜ç›®è‡ªåŠ¨ç»“æž„åŒ–å­˜å‚¨åˆ°æ•°æ®åº“
- é”™é¢˜è®°å½•è‡ªåŠ¨åˆ›å»º
- å¯åœ¨é”™é¢˜æœ¬ä¸­æŸ¥çœ‹å’Œå¤ä¹ 
- æ”¯æŒé—´éš”é‡å¤å¤ä¹ ç³»ç»Ÿ

---

## æ€»ç»“

æ·»åŠ é”™é¢˜åŠŸèƒ½æ˜¯æ˜“é”™é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ï¼Œé€šè¿‡ç®€æ´çš„æ–‡æœ¬ç²˜è´´æ–¹å¼ï¼Œå®žçŽ°äº†å¿«é€Ÿå½•å…¥é”™é¢˜çš„ç›®æ ‡ã€‚è¯¥åŠŸèƒ½å…·å¤‡ï¼š

- âœ… ç®€å•æ˜“ç”¨çš„å½•å…¥ç•Œé¢
- âœ… æ™ºèƒ½çš„æ–‡æœ¬è§£æžèƒ½åŠ›
- âœ… å®Œå–„çš„åˆ†ç±»ä½“ç³»
- âœ… å¥å£®çš„é”™è¯¯å¤„ç†
- âœ… æ¸…æ™°çš„æ•°æ®ç»“æž„
- âœ… è‰¯å¥½çš„æ‰©å±•æ€§

åŠŸèƒ½å·²å…¨éƒ¨å¼€å‘å®Œæˆå¹¶é€šè¿‡æµ‹è¯•ï¼Œå¯æŠ•å…¥ä½¿ç”¨ã€‚
